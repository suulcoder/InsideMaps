{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{canUseDOM}from'fbjs/lib/ExecutionEnvironment';import{getExponentPushTokenAsync}from\"./ExponentNotificationsHelper.web\";import{emitNotification}from\"./Notifications\";if(canUseDOM&&'serviceWorker'in navigator){navigator.serviceWorker.addEventListener('message',function(event){emitNotification(event.data);});navigator.serviceWorker.addEventListener('pushsubscriptionchange',function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getExponentPushTokenAsync();case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}","map":{"version":3,"sources":["../../src/Notifications/ExponentNotifications.fx.web.ts"],"names":[],"mappings":"mIAAA,OAAS,SAAT,KAA0B,+BAA1B,CAEA,OAAS,yBAAT,yCACA,OAAS,gBAAT,uBAEA,GAAI,SAAS,EAAI,iBAAmB,CAAA,SAApC,CAA+C,CAC7C,SAAS,CAAC,aAAV,CAAwB,gBAAxB,CAAyC,SAAzC,CAAoD,SAAA,KAAK,CAAG,CAC1D,gBAAgB,CAAC,KAAK,CAAC,IAAP,CAAhB,CACD,CAFD,EAIA,SAAS,CAAC,aAAV,CAAwB,gBAAxB,CAAyC,wBAAzC,gEAAmE,iBAAM,KAAN,wIAE3D,CAAA,yBAAyB,EAFkC,uDAAnE,gEAID","sourcesContent":["import { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\nimport { getExponentPushTokenAsync } from './ExponentNotificationsHelper.web';\nimport { emitNotification } from './Notifications';\n\nif (canUseDOM && 'serviceWorker' in navigator) {\n  navigator.serviceWorker.addEventListener('message', event => {\n    emitNotification(event.data);\n  });\n\n  navigator.serviceWorker.addEventListener('pushsubscriptionchange', async event => {\n    // Updates Expo token with new device token.\n    await getExponentPushTokenAsync();\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}