{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{combineReducers}from'redux';import omit from'lodash/omit';import*as types from\"../types/map\";var byId=function byId(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.CREATE_MAP_STARTED:{console.log(\"SI entro mucha!!!!!!!!\");var newState=_objectSpread({},state);newState[action.payload._id]=_objectSpread({},action.payload,{isConfirmed:false});return newState;}case types.CREATE_MAP_COMPLETED:{var _action$payload=action.payload,oldId=_action$payload.oldId,map=_action$payload.map;var _newState=omit(state,oldId);_newState[map._id]=_objectSpread({},map,{isConfirmed:true});return _newState;}case types.FETCH_MAP_COMPLETED:{var _action$payload2=action.payload,entities=_action$payload2.entities,_order=_action$payload2.order;var _newState2=_objectSpread({},state);_order.forEach(function(id){_newState2[id]=_objectSpread({},entities[id],{isConfirmed:true});});return _newState2;}}return state;};var order=function order(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.CREATE_MAP_STARTED:{return[].concat(_toConsumableArray(state),[action.payload._id]);}case types.CREATE_MAP_COMPLETED:{var _action$payload3=action.payload,oldId=_action$payload3.oldId,map=_action$payload3.map;return state.map(function(id){return id===oldId?map._id:id;});}case types.FETCH_MAP_COMPLETED:{return[].concat(_toConsumableArray(state),[action.payload.order]);}}return state;};var isFetching=function isFetching(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.FETCH_MAP_STARTED:{return true;}case types.FETCH_MAP_COMPLETED:{return false;}case types.FETCH_MAP_FAILED:{return false;}}return state;};var error=function error(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.CREATE_MAP_FAILED:{return action.payload.error;}case types.FETCH_MAP_FAILED:{return action.payload.error;}default:{return state;}}};export default combineReducers({byId:byId,order:order,isFetching:isFetching,error:error});export var getMap=function getMap(state,id){return state.byId[id];};export var getMaps=function getMaps(state){return state.order.map(function(id){return getMap(state,id);});};export var getCreateError=function getCreateError(state){return state.error;};","map":{"version":3,"sources":["/home/thecoder/Documentos/UVG/Software/InsideMaps/src/reducers/map.js"],"names":["combineReducers","omit","types","byId","state","action","type","CREATE_MAP_STARTED","console","log","newState","payload","_id","isConfirmed","CREATE_MAP_COMPLETED","oldId","map","FETCH_MAP_COMPLETED","entities","order","forEach","id","isFetching","FETCH_MAP_STARTED","FETCH_MAP_FAILED","error","CREATE_MAP_FAILED","getMap","getMaps","getCreateError"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport omit from 'lodash/omit';\n\nimport * as types from '../types/map';\n\n\nconst byId = (state = {}, action) => {\n  switch(action.type){\n    case types.CREATE_MAP_STARTED: {\n      console.log(\"SI entro mucha!!!!!!!!\")\n      const newState = {...state};\n      newState[action.payload._id] = {\n        ...action.payload,\n        isConfirmed: false,\n      }\n      return newState;\n    }\n    case types.CREATE_MAP_COMPLETED: {\n      const { oldId, map } = action.payload;\n      const newState = omit(state, oldId);\n      newState[map._id] = {\n        ...map, \n        isConfirmed: true,\n      }\n      return newState;\n    }\n    case types.FETCH_MAP_COMPLETED : {\n      const { entities, order } = action.payload;\n      const newState = {...state};\n      order.forEach(id => {\n        newState[id] = {\n          ...entities[id],\n          isConfirmed: true,\n        };\n      });\n      return newState;\n    }\n\n  }\n  return state;\n};\n\nconst order = (state=[], action) => {\n  switch(action.type){\n    case types.CREATE_MAP_STARTED: {\n      return [...state, action.payload._id];\n    }\n    case types.CREATE_MAP_COMPLETED: {\n      const { oldId, map } = action.payload;\n      return state.map(id => id === oldId ? map._id : id);\n    }\n    case types.FETCH_MAP_COMPLETED: {\n      return [...state, action.payload.order];\n    }\n  }\n  return state;\n};\n\nconst isFetching = (state=false, action) => {\n  switch(action.type){\n    case types.FETCH_MAP_STARTED: {\n      return true;\n    }\n    case types.FETCH_MAP_COMPLETED: {\n      return false;\n    }\n    case types.FETCH_MAP_FAILED: {\n      return false;\n    }\n  }\n  return state;\n  };\n\n\nconst error = (state=null, action) => {\n  switch(action.type){\n    case types.CREATE_MAP_FAILED: {\n      return action.payload.error;\n    }\n    case types.FETCH_MAP_FAILED: {\n      return action.payload.error;\n    }\n    default:{\n      return state;\n    }\n  }\n\n};\n\nexport default combineReducers({\n  byId,\n  order,\n  isFetching,\n  error,\n});\n\n\nexport const getMap = (state, id) => state.byId[id];\nexport const getMaps = state => state.order.map(id => getMap(state, id));\nexport const getCreateError = state => state.error;\n\n"]},"metadata":{},"sourceType":"module"}