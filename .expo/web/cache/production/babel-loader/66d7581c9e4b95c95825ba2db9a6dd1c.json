{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{combineReducers}from'redux';import omit from'lodash/omit';import*as types from\"../types/map\";var byId=function byId(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.types){case types.CREATE_MAP_STARTED:{console.log(\"SI entro mucha!!!!!!!!\");var newState=_objectSpread({},state);newState[action.payload._id]=_objectSpread({},action.payload,{isConfirmed:false});return newState;}case types.CREATE_MAP_COMPLETED:{var _action$payload=action.payload,oldId=_action$payload.oldId,map=_action$payload.map;var _newState=omit(state,oldId);_newState[map._id]=_objectSpread({},map,{isConfirmed:true});return _newState;}}return state;};var order=function order(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.types){case types.CREATE_MAP_STARTED:{return[].concat(_toConsumableArray(state),[action.payload._id]);}case types.CREATE_MAP_COMPLETED:{var _action$payload2=action.payload,oldId=_action$payload2.oldId,map=_action$payload2.map;return state.map(function(id){return id===oldId?map._id:id;});}}return state;};var isFetching=function isFetching(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var action=arguments.length>1?arguments[1]:undefined;return state;};var error=function error(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.CREATE_MAP_FAILED:{return action.payload.error;}}return state;};export default combineReducers({byId:byId,order:order,isFetching:isFetching,error:error});export var getMap=function getMap(state,id){return state.byId[id];};export var getMaps=function getMaps(state){return state.order.map(function(id){return getMap(state,id);});};export var getCreateError=function getCreateError(state){return state.error;};","map":{"version":3,"sources":["/home/thecoder/Documentos/UVG/Software/InsideMaps/src/reducers/map.js"],"names":["combineReducers","omit","types","byId","state","action","CREATE_MAP_STARTED","console","log","newState","payload","_id","isConfirmed","CREATE_MAP_COMPLETED","oldId","map","order","id","isFetching","error","type","CREATE_MAP_FAILED","getMap","getMaps","getCreateError"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport omit from 'lodash/omit';\n\nimport * as types from '../types/map';\n\n\nconst byId = (state = {}, action) => {\n  switch(action.types){\n    case types.CREATE_MAP_STARTED: {\n      console.log(\"SI entro mucha!!!!!!!!\")\n      const newState = {...state};\n      newState[action.payload._id] = {\n        ...action.payload,\n        isConfirmed: false,\n      }\n      return newState;\n    }\n    case types.CREATE_MAP_COMPLETED: {\n      const { oldId, map } = action.payload;\n      const newState = omit(state, oldId);\n      newState[map._id] = {\n        ...map, \n        isConfirmed: true,\n      }\n      return newState;\n    }\n\n  }\n  return state;\n};\n\nconst order = (state=[], action) => {\n  switch(action.types){\n    case types.CREATE_MAP_STARTED: {\n      return [...state, action.payload._id];\n    }\n    case types.CREATE_MAP_COMPLETED: {\n      const { oldId, map } = action.payload;\n      return state.map(id => id === oldId ? map._id : id);\n    }\n  }\n  return state;\n};\n\nconst isFetching = (state=false, action) => {\n  return state;\n  }\n\n\nconst error = (state=null, action) => {\n  switch(action.type){\n    case types.CREATE_MAP_FAILED: {\n      return action.payload.error;\n    }\n  }\n  return state;\n};\n\nexport default combineReducers({\n  byId,\n  order,\n  isFetching,\n  error,\n});\n\n\nexport const getMap = (state, id) => state.byId[id];\nexport const getMaps = state => state.order.map(id => getMap(state, id));\nexport const getCreateError = state => state.error;\n\n"]},"metadata":{},"sourceType":"module"}